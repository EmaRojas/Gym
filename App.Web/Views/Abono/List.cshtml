@model IEnumerable<App.Web.Models.AbonoModel>

@{
    ViewBag.Title = "List";
}
<center>
    <h2>Abonos</h2>
</center>
<hr style="background-color:#7e57c2; height:2px">

<div class="row" style="padding-top:2%">
    <div class="col-lg-12 col-md-12">

        <table id="table-sortable-server" data-url="@Url.Action("Table","Abono")">
            <thead>
                <tr>
                    <th data-field="state" data-checkbox="true">#</th>
                    <th data-field="Nombre" data-align="center">
                        Nombre
                    </th>
                    <th data-field="Precio" data-align="center">
                        Precio
                    </th>
                </tr>
            </thead>
        </table>
    </div>
</div>

<div id="table-toolbar" class="form-group">
    <a href="@Url.Action("Create")" id="new" data-bind="click: createClient" class="btn btn-raised btn-primary btn-rounded">Nuevo</a>
    <a id="edit" data-bind="click: editClient" onclick="Editar()" hidden disabled class="btn btn-raised btn-success btn-rounded">Editar</a>
    <a id="delete" data-bind="click: deleteClient" onclick="confirmDelete('', '', '', '')" hidden class="btn btn-raised btn-danger btn-rounded">Eliminar</a>
</div>
<script>
    $('#table-sortable-server').on('check.bs.table uncheck.bs.table ' + 'check-all.bs.table uncheck-all.bs.table', function () {
        $('#edit').prop('hidden', !$('#table-sortable-server').bootstrapTable('getSelections').length)
        $('#ficha').prop('hidden', !$('#table-sortable-server').bootstrapTable('getSelections').length)
        $('#delete').prop('hidden', !$('#table-sortable-server').bootstrapTable('getSelections').length)
        $('#abono').prop('hidden', !$('#table-sortable-server').bootstrapTable('getSelections').length)

    });

    $('#eventsTable').on('check.bs.table', function (e, row) {
        checkedRows.push({ id: row.id, name: row.name, forks: row.forks });
        console.log(checkedRows);
    });

    function Editar(parameters) {
        var id = parseInt($('#table-sortable-server').bootstrapTable('getSelections')[0].Id);
        window.location.href = "/Abono/Edit?id=" + encodeURIComponent(id);
    }    
</script>
