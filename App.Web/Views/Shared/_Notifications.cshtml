@using App.Web.Controllers
<!-- Default theme -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css" />
<style type="text/css">
    .input-field div.error {
        position: relative;
        top: -1rem;
        left: 0rem;
        font-size: 0.8rem;
        color: #FF4081;
        -webkit-transform: translateY(0%);
        -ms-transform: translateY(0%);
        -o-transform: translateY(0%);
        transform: translateY(0%);
    }

    .input-field label.active {
        width: 100%;
    }

    .left-alert input[type=text] + label:after,
    .left-alert input[type=password] + label:after,
    .left-alert input[type=email] + label:after,
    .left-alert input[type=url] + label:after,
    .left-alert input[type=time] + label:after,
    .left-alert input[type=date] + label:after,
    .left-alert input[type=datetime-local] + label:after,
    .left-alert input[type=tel] + label:after,
    .left-alert input[type=number] + label:after,
    .left-alert input[type=search] + label:after,
    .left-alert textarea.materialize-textarea + label:after {
        left: 0px;
    }

    .right-alert input[type=text] + label:after,
    .right-alert input[type=password] + label:after,
    .right-alert input[type=email] + label:after,
    .right-alert input[type=url] + label:after,
    .right-alert input[type=time] + label:after,
    .right-alert input[type=date] + label:after,
    .right-alert input[type=datetime-local] + label:after,
    .right-alert input[type=tel] + label:after,
    .right-alert input[type=number] + label:after,
    .right-alert input[type=search] + label:after,
    .right-alert textarea.materialize-textarea + label:after {
        right: 70px;
    }
</style>
<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
@{
    //success messages
    var successMessages = new List<string>();
    if (TempData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Success)] != null)
    {
        successMessages.AddRange(TempData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Success)] as IList<string>);
    }
    if (ViewData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Success)] != null)
    {
        successMessages.AddRange(ViewData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Success)] as IList<string>);
    }


    //error messages
    var errorMessages = new List<string>();
    if (TempData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Error)] != null)
    {
        errorMessages.AddRange(TempData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Error)] as IList<string>);
    }
    if (ViewData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Error)] != null)
    {
        errorMessages.AddRange(ViewData[string.Format("ap.notifications.{0}", BaseController.NotifyType.Error)] as IList<string>);
    }

    ////extra messages
    //var extraMessages = new List<string>();
    //if (TempData[string.Format("ap.notifications.{0}", NotifyType.Extra)] != null)
    //{
    //    extraMessages.AddRange(TempData[string.Format("ap.notifications.{0}", NotifyType.Extra)] as IList<string>);
    //}
    //if (ViewData[string.Format("ap.notifications.{0}", NotifyType.Extra)] != null)
    //{
    //    extraMessages.AddRange(ViewData[string.Format("ap.notifications.{0}", NotifyType.Extra)] as IList<string>);
    //}
}

@foreach (var message in successMessages)
{
    <div id="successMessages">@message</div>
}

@foreach (var message in errorMessages)
{
    <div id="errorMessages">@message</div>
}


<script type="text/javascript">

    function NotificationSuccess(message, title, css) {

        alertify.success(message)

        return false;
    }

    function NotificationError(message, title, css) {

        alertify.error(message)

        return false;
    }

    $(document).ready(function () {
        $("#successMessages").each(function () {
            var array = $(this).html().split("~");
            NotificationSuccess(array[0], array[1], array[2]);
        });
        $("#successMessages").remove();

        $("#errorMessages").each(function () {
            var array = $(this).html().split("~");
            NotificationError(array[0], array[1], array[2]);
        });
        $("#errorMessages").remove();
    });
</script>

